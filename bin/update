#!/usr/bin/env bash

START_TIME=$SECONDS

## -------------------------------------------------------------------------------------

# Convert data from CSV to Json
/usr/bin/php /vagrant/bin/console SaintCoinachJsonCacheCommand 1

# Build data
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 0 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 50 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 100 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 150 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 200 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 250 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 300 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 350 50 1
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 400 50 1
#/usr/bin/php /vagrant/bin/console SaintCoinachRedisCommand 450 50 1

# Add custom data
sleep 5
/usr/bin/php /vagrant/bin/console SaintCoinachRedisCustomCommand

# Add on patch info
sleep 5
/usr/bin/php /vagrant/bin/console UpdatePatchCommand

# Update search
sleep 5
#/usr/bin/php /vagrant/bin/console UpdateSearchCommand dev

## -------------------------------------------------------------------------------------

end=`date +%s`

ELAPSED_TIME=$(($SECONDS - $START_TIME))

echo ""
echo "Completed"
echo "$(($ELAPSED_TIME/60)) min $(($ELAPSED_TIME%60)) sec"
echo ""
